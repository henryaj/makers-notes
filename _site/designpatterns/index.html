<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Design Patterns</title>
    <meta name="description" content="Notes from Makers Academy.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/designpatterns/">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Makers Notes</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/io/">IO</a>
          
        
          
          <a class="page-link" href="/ajax/">AJAX</a>
          
        
          
          <a class="page-link" href="/associations/">Associations</a>
          
        
          
          <a class="page-link" href="/blocksprocslambdas/">Blocks, Procs and Lambdas</a>
          
        
          
          <a class="page-link" href="/classes/">Classes</a>
          
        
          
          <a class="page-link" href="/collections/">Collections</a>
          
        
          
          <a class="page-link" href="/css/">CSS and the Box Model</a>
          
        
          
          <a class="page-link" href="/databases/">Databases</a>
          
        
          
          <a class="page-link" href="/datetime/">Date and Time</a>
          
        
          
          <a class="page-link" href="/debugging/">Debugging</a>
          
        
          
          <a class="page-link" href="/designpatterns/">Design Patterns</a>
          
        
          
        
          
          <a class="page-link" href="/gems/">Gems</a>
          
        
          
          <a class="page-link" href="/git-github/">Git and GitHub</a>
          
        
          
        
          
          <a class="page-link" href="/inheritanceandcomposition/">Inheritance and Composition</a>
          
        
          
          <a class="page-link" href="/javascript/">Javascript</a>
          
        
          
          <a class="page-link" href="/logic/">Logic and Booleans</a>
          
        
          
        
          
          <a class="page-link" href="/pairing/">Pair programming</a>
          
        
          
          <a class="page-link" href="/rspec/">RSpec</a>
          
        
          
          <a class="page-link" href="/security/">Security</a>
          
        
          
          <a class="page-link" href="/settersandgetters/">Setter and Getter methods</a>
          
        
          
          <a class="page-link" href="/sinatra/">Sinatra</a>
          
        
          
          <a class="page-link" href="/super/">Super</a>
          
        
          
          <a class="page-link" href="/testingstyles/">Testing Styles</a>
          
        
          
          <a class="page-link" href="/yield/">Yield</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Design Patterns</h1>
  </header>

  <article class="post-content">
    <p>Just as there are repeated problems in architecture and engineering, so there are similar problems in programming. Design patterns, in computer science, are set ways of solving progamming problems.</p>

<ul>
<li>Decorator pattern</li>
<li>Factory method</li>
<li>Builder pattern</li>
<li>Adapter pattern</li>
<li>Visitor pattern</li>
</ul>

<h2>Decorator methods</h2>

<p>Decorator methods are used to <em>add functionality to instances of a class without modifying the class itself.</em> They are a flexible alternative to sublassing.</p>

<p>Say you wanted a method for the coffee that your store sells:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Coffee</span>
  <span class="k">def</span> <span class="nf">price</span>
    <span class="mi">2</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>No problem. But what about coffee with milk? And coffee with syrup? And coffee with both? Quite quickly you need an exponentially larger number of classes.</p>

<p>You could subclass instead, like this:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">CoffeeWithMilk</span> <span class="o">&lt;</span> <span class="no">Coffee</span>
  <span class="k">def</span> <span class="nf">price</span>
    <span class="k">super</span> <span class="o">+</span> <span class="mi">0</span><span class="o">.</span><span class="mi">2</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>But this has its problems too: the subclass will identify as such and not as a member of the parent class, and you still need lots of classes. Instead, you could use a decorator method to extend the functionality of an instance of the class:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">Milk</span>
  <span class="k">def</span> <span class="nf">cost</span>
    <span class="k">super</span> <span class="o">+</span> <span class="mi">0</span><span class="o">.</span><span class="mi">2</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">Syrup</span>
  <span class="k">def</span> <span class="nf">cost</span>
    <span class="k">super</span> <span class="o">+</span> <span class="mi">0</span><span class="o">.</span><span class="mi">4</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">coffee</span> <span class="o">=</span> <span class="no">Coffee</span><span class="o">.</span><span class="n">new</span>

<span class="n">coffee</span><span class="o">.</span><span class="n">extend</span> <span class="no">Milk</span>  <span class="c1"># price is now 2.2</span>
<span class="n">coffee</span><span class="o">.</span><span class="n">extend</span> <span class="no">Syrup</span> <span class="c1"># price is now 2.6</span>
</code></pre></div>
<p>There are a number of different ways to do this in Ruby; the above is only one example.</p>

<h2>Factory pattern</h2>

<p>Where you define an interface for creating objects, but letting the subclasses that implement the interface decide which class to instantiate.</p>

<p>Say you have a set of &#39;component&#39; classes but don&#39;t know which ones you will need until run time – you can use a factory method to instantiate these objects.</p>

<h2>Builder pattern</h2>

<p>A builder pattern defines an instance for creating an object but lets subclasses decide which class to isntantiate. Builder patterns are used for building these complex objects independently of the mechanisms that go into creating their components. They allow the complex object to be easily &#39;customised&#39; by specifying the number and types of components required.</p>

<p>Builder patterns may be desired to simplify the inputs required to create the object (e.g. avoid having to manually build arrays needed as arguments for component objects) or to hide the detail of an object&#39;s creation from other applications/users. </p>

<p>You wouldn&#39;t start designing your code using a builder pattern. Rather, it emerges in response to growing complexity. Generally designs starts out by using the factory method to manage creation of components and evolves towards a builder pattern as the number of required components increases.</p>

<h2>Adapter methods</h2>

<p>Adapters are a class that handle a request from a client, and contain a method that will turn a request from a client into something that the adaptee can accept.</p>

<p>Much like a two-pin to three-pin converter, these classes convert input messages into a format appropriate for the adaptee.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">first_character</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
  <span class="c1"># returns the first char of a string</span>
  <span class="n">string</span><span class="o">.</span><span class="n">chr</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">adapter</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
  <span class="c1"># converts a number into a string so the</span>
  <span class="c1"># method above can use it</span>
  <span class="n">number</span><span class="o">.</span><span class="n">to_s</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">first_character</span><span class="p">(</span><span class="n">adapter</span><span class="p">(</span><span class="mi">490283</span><span class="p">))</span> <span class="o">=&gt;</span> <span class="mi">4</span>
</code></pre></div>
<h2>Visitor methods</h2>

<p>Adds functionality that draws information from existing classes without changing the classes themselves.</p>

<p>Examples:</p>

<ul>
<li>extracting the age from an object of class <code>Employee</code></li>
<li>extracting an object&#39;s price to calculate VAT</li>
</ul>

<p>Importantly, a visitor class doesn&#39;t affect the core functions of any other classes – it follows the <em>open/closed principle</em>. They&#39;re easier to comprehend and adapt, and improve code readability over using blocks.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Makers Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Makers Notes</li>
          <li><a href="mailto:henry@henrystanley.om">henry@henrystanley.om</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Notes from Makers Academy.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
